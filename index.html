<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Tencent Map Test</title>

<!--
<script charset="utf-8" src="https://map.qq.com/api/js?v=2.exp&key=PREBZ-WVJKH-73BDV-W3D52-CM3J3-ONB4P"></script>
-->
<script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=PREBZ-WVJKH-73BDV-W3D52-CM3J3-ONB4P"></script>

<style type="text/css">
  html,body{
    width:100%;
    height:100%;
}
#container{
    width:100%;
    height:90%;
}
*{
    margin:0px;
    padding:0px;
}
body, button, input, select, textarea {
    font: 12px/16px Verdana, Helvetica, Arial, sans-serif;
}
#info{
    width:603px;
    padding-top:3px;
    overflow:hidden;
}
.btn{
    width:112px;
}
</style>
<script>
/*
var init = function() {
    var center = new qq.maps.LatLng(23.125564,113.256196);
	
	var location1 = new qq.maps.LatLng(23.126429,113.256914);
	
    var map = new qq.maps.Map(document.getElementById('container'),{
        center: center,
        zoom: 13
    });
    var marker = new qq.maps.Marker({
        position: center,
        map: map
    });
    qq.maps.event.addListener(marker,"click",function(){
        alert("you clicked me")
    });
    //setMap
    var mapM=document.getElementById("mapM");
    qq.maps.event.addDomListener(mapM,"click",function(){
        marker.setVisible(true);
        if(marker.getMap()){
            marker.setMap(null);
        }else{
            marker.setMap(map);
        }
    });
    //setClickable
    var cable=document.getElementById("cable");
    qq.maps.event.addDomListener(cable,"click",function(){
        marker.setVisible(true);
        if(marker.getClickable()){
            marker.setClickable(false);
        }else{
            marker.setClickable(true);
        }
    });
    //setDraggable
    var drag=document.getElementById("drag");
    qq.maps.event.addDomListener(drag,"click",function(){
        marker.setVisible(true);
        if(marker.getDraggable()){
            marker.setDraggable(false);
        }else{
            marker.setDraggable(true);
        }
    });
    //setVisible
    var visibleF=document.getElementById("visibleF");
    qq.maps.event.addDomListener(visibleF,"click",function(){
        marker.setMap(map);
        if(marker.getVisible()){
            marker.setVisible(false);
        }else{
            marker.setVisible(true);
        }
    });
    //setPosition
    var flag=true;
    var setP=document.getElementById("setP");
    var latLng=new qq.maps.LatLng(39.908709,116.397519);
    //添加Dom监听事件
    qq.maps.event.addDomListener(setP,"click",function(){
        marker.setMap(map);
        if(flag){
            flag=false;
            marker.setPosition(latLng);
        }else{
            flag=true;
            marker.setPosition(center);
        }
    });
}
*/

function init() {
	var center = new TMap.LatLng(23.125564,113.256196);//设置中心点坐标
	
	//初始化地图
	var map = new qq.maps.Map(document.getElementById('container'),{
        center: center,
        zoom: 13
    });
	
	/*
	var map = new TMap.Map(container, {
		center: center
	});
	*/
	
	

	var markerLayer = new TMap.MultiMarker({
		map: map,  //指定地图容器
		//样式定义
		styles: {
			//创建一个styleId为"myStyle"的样式（styles的子属性名即为styleId）
			"myStyle": new TMap.MarkerStyle({ 
				"width": 25,  // 点标记样式宽度（像素）
				"height": 35, // 点标记样式高度（像素）
				"src": '../img/marker.png',  //图片路径
				//焦点在图片中的像素位置，一般大头针类似形式的图片以针尖位置做为焦点，圆形点以圆心位置为焦点
				"anchor": { x: 16, y: 32 }  
			}) 
		},
		//点标记数据数组
		geometries: [{
			"id": "1",   //点标记唯一标识，后续如果有删除、修改位置等操作，都需要此id
			"styleId": 'myStyle',  //指定样式id
			"position": new TMap.LatLng(39.954104, 116.357503),  //点标记坐标位置
			"properties": {//自定义属性
				"title": "marker1"
			}
		}, {//第二个点标记
			"id": "2",
			"styleId": 'marker',
			"position": new TMap.LatLng(23.126429,113.256914),
			"properties": {
				"title": "marker2"
			}
		}
		]
	});
}
</script>
</head>
<body onload="init()">
<div id="container"></div>
<!--
<div id="info" style="margin-top:10px;">
    <button id="mapM" class="btn">setMap</button>
    <button id="cable" class="btn">setClickable</button>
    <button id="drag" class="btn">setDraggable</button>
    <button id="visibleF" class="btn">setVisible</button>
    <button id="setP" class="btn">setPosition</button>
</div>
-->
</body>
</html>
